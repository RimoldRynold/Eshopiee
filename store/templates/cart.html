{% extends 'base.html' %}
{% load static %}

{% block content %}
{% load cart %}

<div class="container">
<div class="border rounded p-4 m-4">
<p class="display-6 px-4 mx-4">Your Cart</p>
<hr>
<table class="table">
    <thead>
        <tr>
            <th>Sno.</th>
            <th>Image</th>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        {% for product in products  %}
        <tr>
            <td>{{forloop.counter}}</td>
            <td><img style="height: 11rem;" class="rounded-circle" src="{{product.image.url}}" alt=""></td>
            <td>{{product.name}}</td>
            <td>{{product.price}}</td>
            <td>{{product|cart_quantity:request.session.cart}}</td>
            <td>{{product|price_total:request.session.cart}}</td>
        </tr>
       {% endfor %}
    </tbody>
    <tfoot>
        <tr>
            <th colspan="4"></th>
            <th colspan="">Total</th>
            <th>{{products|total_cart_price:request.session.cart}}</th>
        </tr>
    </tfoot>
</table>

<div class="m-3 p-3">
    <a href="" class="btn btn-outline-info border rounded col-lg-3 float-end">Check out</a>
</div>

</div>
</div>

{% endblock %}